<!doctype html>
<html lang="tr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>VidOps — Logout</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-slate-950 text-white flex items-center justify-center p-6">
  <div class="w-full max-w-md rounded-3xl bg-white/5 p-6 ring-1 ring-white/10 backdrop-blur">
    <h1 class="text-xl font-semibold">Çıkış yapılıyor…</h1>
    <p class="mt-2 text-sm text-white/70">Bir saniye.</p>
    <p id="note" class="mt-4 text-xs text-white/60"></p>
  </div>

<script>
  const ACCESS_TOKEN_KEY = "accessToken";
  const AUTH_USER_KEY = "authUser";
  async function doLogout(){
    try{
      await fetch("/api/auth/logout", { method:"POST", credentials:"include" });
    }catch(e){ /* ignore */ }
    localStorage.removeItem(ACCESS_TOKEN_KEY);
    localStorage.removeItem(AUTH_USER_KEY);
    document.getElementById("note").textContent = "Tamamlandı. Login sayfasına yönlendiriliyorsun.";
    setTimeout(() => window.location.href = "/login", 350);
  }
  doLogout();
</script>
</body>
</html>
